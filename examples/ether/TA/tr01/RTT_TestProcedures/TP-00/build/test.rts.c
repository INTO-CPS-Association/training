/** @file
 *  -- THIS FILE IS AUTOMATICALLY GENERATED --
 *  -- SOURCE            : C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts
 *  -- VERSION STAMP     : Wed Apr 19 10:23:21 2017
 *  -- PROCESSING TIME   : Wed Apr 19 10:23:21 2017
 *  -- GENERATOR VERSION : RT-Tester 6.0-6.1.12  -- March 2017 (rttscan_rts: Date: 2016-02-26 13:17:08 )
 */

/** -- Includes as taken from command line ---------------------------- */
#include "RTTcontext.h"
#include "RTTschedule.h"
#include "RTTstubs_global.h"
#include "RTTstubs_local.h"
#include "rttcnllib.h"

/** -- Print function declarations ---------------------------- */
// -- no print functions supported


/** -- RTT Tester specific static variables ---------------------------- */
/** variable counting how often @rttAssert failed */
extern long int rttFailures[];
/** variable counting how often @rttCheck failed */
extern long int rttWarnings[];


/**  -- transcription of source ------------------------------------ */



#line 2 

#define RTT_SPRINTF  sprintf
#define RTT_STRCPY   strcpy
#define RTT_STRCAT   strcat
#define RTT_STRLEN   strlen


#line  1 "test.rts"
#line 1 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"



rttModelVars_t     *rttStatePre;
rttModelVars_t     *rttStatePost;


rttInterface_t     *rttIOPre;
rttInterface_t     *rttIOPost;


#line  12 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_PREFIX

#line  13 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define AM_TIMETICK_PREFIX am_timetick


#line  15 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_INIT
void am_timetick_INIT()
{ int rttInternalAmNumber RTT_ATTRIBUTE_UNUSED = get_am_id();
  rttIOPre = (rttInterface_t *) calloc(1, sizeof(rttInterface_t));
  rttIOPost = (rttInterface_t *) calloc(1, sizeof(rttInterface_t));
  rttStatePre = (rttModelVars_t *) calloc(1, sizeof(rttModelVars_t));
  rttStatePost = (rttModelVars_t *) calloc(1, sizeof(rttModelVars_t));
}
#endif


#line  25 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_FINIT
void am_timetick_FINIT()
{ int rttInternalAmNumber RTT_ATTRIBUTE_UNUSED = get_am_id();
}
#endif


#line  31 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_PROCESS
void am_timetick_PROCESS()
{ int rttInternalAmNumber RTT_ATTRIBUTE_UNUSED = get_am_id();
  int                 _timeTickOld = ((rttGetTimeTick(RTTgs.timers_in_microseconds ? rttTimeScale_micro_seconds : rttTimeScale_milli_seconds)) - (int64_t)rttStartOfTestTic)
#line  33 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
;
// log values of all SUT2TE variables at this time
  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out11a: " "%.17g", (float)( (double) rttIOPost->out11a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  35 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out11p: " "%.17g", (float)( (double) rttIOPost->out11p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  36 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out12a: " "%.17g", (float)( (double) rttIOPost->out12a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  37 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out12p: " "%.17g", (float)( (double) rttIOPost->out12p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  38 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out13a: " "%.17g", (float)( (double) rttIOPost->out13a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  39 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out13p: " "%.17g", (float)( (double) rttIOPost->out13p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  40 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out21a: " "%.17g", (float)( (double) rttIOPost->out21a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  41 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out21p: " "%.17g", (float)( (double) rttIOPost->out21p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  42 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out22a: " "%.17g", (float)( (double) rttIOPost->out22a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  43 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out22p: " "%.17g", (float)( (double) rttIOPost->out22p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  44 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out23a: " "%.17g", (float)( (double) rttIOPost->out23a
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  45 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  // -- @logsig operation
{
    AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare;
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" "out23p: " "%.17g", (float)( (double) rttIOPost->out23p
)    );
rttLogAM(rttInternalAmNumber, rttEventType_logsig);}
// -- end of @logsig --------------------------------------

#line  46 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

  while (rttctx_is_running()
#line  47 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
) {
    // Reset flag indicating whether a discrete transition took place in the last cycle
    rttHaveDiscreteTrans = 0;
    // Copy post state to actual pre-state
    memcpy(rttIOPre, rttIOPost, sizeof(rttInterface_t));
    memcpy(rttStatePre, rttStatePost, sizeof(rttModelVars_t));
    _timeTick = ((rttGetTimeTick(RTTgs.timers_in_microseconds ? rttTimeScale_micro_seconds : rttTimeScale_milli_seconds)) - (int64_t)rttStartOfTestTic)
#line  53 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
;
    _timeTickDiff = _timeTick - _timeTickOld;
    _timeTickOld = _timeTick;
     AM_context[rttInternalAmNumber].am_errno = rttErrno_dontcare,rtt_yield(rttInternalAmNumber)
#line  56 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
;
  }
}
#endif
#endif


#line  63 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define _AM_TIMETICK_FUN(basename, phase) basename ## _ ## phase

#line  64 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define AM_TIMETICK_FUN(basename, phase) _AM_TIMETICK_FUN(basename, phase)

#line  65 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_INIT

#line  66 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define AM_TIMETICK_INIT AM_TIMETICK_FUN(AM_TIMETICK_PREFIX, INIT)
void                AM_TIMETICK_INIT();
#endif

#line  69 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_FINIT

#line  70 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define AM_TIMETICK_FINIT AM_TIMETICK_FUN(AM_TIMETICK_PREFIX, FINIT)
void                AM_TIMETICK_FINIT();
#endif

#line  73 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#ifndef AM_TIMETICK_PROCESS

#line  74 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#define AM_TIMETICK_PROCESS AM_TIMETICK_FUN(AM_TIMETICK_PREFIX, PROCESS)
void                AM_TIMETICK_PROCESS();
#endif


#line  77 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

/** Abstract Machine am_timetick 
 *
 *  DECLARED VECTOR PORTS: --------------------------------------
 * --------------------------------------------------------------
 */

/** Abstract Machine am_timetick 
 *
 *  DECLARED INPUT/OUTPUT PORTS: --------------------------------
 * --------------------------------------------------------------
 */

/** 
 * AM am_timetick INIT routine
 * Executed exactly once on startup.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am_timetick_INIT(void *rttInternalAmNumber_ptr ){


// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 

    rttctx_initialize_AM_runtime(rttInternalAmNumber);

    AM_context[rttInternalAmNumber].am_terminated = FALSE;

    /** Initialise all vector ports of this AM */
    {
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
        /** Determine number of input and output ports. */
        uint32_t numInPorts  
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t numOutPorts 
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t lwp_id      
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = AM_context[rttInternalAmNumber].lwp_id;
#ifdef _CADUL 
#pragma strict(UVAR)
#endif


        /** generate the input/output port list: one for each port plus
         * one NULL termination field
         */
        AM_context[rttInternalAmNumber].input_ports
            = (rttPort_t **)calloc(numInPorts+1,sizeof(rttPort_t*));
        AM_context[rttInternalAmNumber].output_ports
            = (rttPort_t **)calloc(numOutPorts+1,sizeof(rttPort_t*));

        /** Reset counter for initialisation */
        numInPorts = 0;
        numOutPorts = 0;

    }
    rttPruneReadIndex(rttInternalAmNumber);

  {
    time_t startup_time;
    char   date_string[256];
    char   scheduling_string[4096];

    time(&startup_time);
    strftime(date_string, 99, 
             "%Y:%m:%d:%H:%M:%S", 
            (RTT_USE_LOCAL_TIME 
             ? localtime((time_t *)&( rttStartOfTestEpoch ))
             :    gmtime((time_t *)&( rttStartOfTestEpoch ))));    if (LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id == 0xFFFFFFFF) {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
             );
    } else {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s, CNODE %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
              , (long int)LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id
              , (CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname != NULL) ? CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname : CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].ip
             );
    }

    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "%s***************************** STARTUP OF AM %3ld *****************************\n"
           "* PROJECT        : %s\n"
           "* COMPONENT      : %s\n"
           "* TEST PROCEDURE : %s\n"
           "* TOOL VERSION   : RT-Tester 6.0-6.1.12\n"
           "* AUTHOR         : %s\n"
           "* START OF TEST  : %s  (%s)\n"
           "* TIME SCALE     : %s\n"
           "* SCHEDULING     : %s\n"
           "*****************************************************************************\n"
           , (RTTgs.is_archive_version ? RTTCTX_ARCHIVE_VERSION_STRING :"" )
           , (long int)rttInternalAmNumber
           , RTT_PROJECT_NAME_STRING
           , RTT_CONST_TESTCASE_COMPONENT_STRING
           , RTT_CONST_TESTCASE_TESTCASE_STRING
           , RTT_CONST_TESTCASE_AUTHOR_STRING
           , date_string
           , (RTT_USE_LOCAL_TIME    ? "local time" : "gm")
           , RTT_TIME_SCALE_STRING
           , scheduling_string
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
  }
  /** setting variable counting the logical test steps */
  (AM_context[rttInternalAmNumber].test_step) = 0L;
          
{

#line  79 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    AM_TIMETICK_INIT();
  }

}
}

/** 
 * AM am_timetick PROCESS routine
 * @li in ordinary test run: scheduled repeatedly.
 * @li in unit test called once.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am_timetick_PROCESS(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
{

#line  85 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    AM_TIMETICK_PROCESS();
  }

}
    AM_context[rttInternalAmNumber].am_terminated = TRUE;
}

/** 
 * AM am_timetick FINIT routine
 * Executed exactly once on shutdown.
 *
 * @param rttInternalAmNumber : internal id of this machine
 * @param aborted   : if 0, this indicates ordinary termination of the test.
 *                    != 0 means irregular termination (aborted test run)
 *                    the test verdict is assumed to be set explitly then.
 */
void test_am_timetick_FINIT(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
#ifdef    RTT_FMI_OUTPUT_TAGS_AT_END 
 {
    rttstr_line_buffer_t* tags = rttctx_get_tag_tracing_of_AM(rttInternalAmNumber);
    char* line;
    while(NULL != (line = rttstr_line_buffer_get_line(tags))){
  #ifdef DEBUG_RTT_FMI_TAGS2STDERR
        fprintf(stderr, "%s\n", line);
  #elif (defined RTT_FMI_TAGS2RTTINTERFACE_LOG_TAGS)
        fmi2rttInterface_log_tags(line);
  #else
        fprintf(RTTgs.fmi2_tags_output_stream, "%s\n", line);
  #endif
    }
 }
#endif /* RTT_FMI_OUTPUT_TAGS_AT_END */
 rttctx_CheckForUnsubscribedSignals_AM(rttInternalAmNumber);
 rttAMContext_compute_verdict(rttInternalAmNumber,
                              rttWarnings[rttInternalAmNumber],
                              rttFailures[rttInternalAmNumber]);

{

#line  82 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    AM_TIMETICK_FINIT();
  }

}


 if (!(AM_context[rttInternalAmNumber].selected_outputs
       & RTT_CTXLIB_FILE_MASK)
     &&
     !AM_context[rttInternalAmNumber].delayed_file_logging) {
   AM_context[rttInternalAmNumber].max_file_size = RTT_MINIMAL_OUTPUT_FILESIZE;
   rttctx_open_new_logfile(rttInternalAmNumber, RTTgs.start_time_epoch);
   AM_context[rttInternalAmNumber].active_outputs |= RTT_CTXLIB_FILE_MASK;
   AM_context[rttInternalAmNumber].selected_outputs |= RTT_CTXLIB_FILE_MASK;
 }


 AM_context[rttInternalAmNumber].am_log_state = rttctxlib_am_log_state_NORMAL;
#ifdef RTT_SHOW_RUNTIME_STATS
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*********************** RUNTIME STATISTICS FOR AM %3ld ***********************\n"
            "* RUNTIME STATISTICS OF PROCESS SECTION:\n"
            "* \n"
            "* TOTAL RUNNING TIME     :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* TOTAL EXECUTION TIME   :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* AVERAGE EXECUTION TIME :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* PEAK EXECUTION TIME    :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* EXECUTION CYCLES       :   %8" PRId64 " cycles\n"
            "*****************************************************************************\n"
            , (long int)rttInternalAmNumber
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total % 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ? -1LL : (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ?  0 : (AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].num_cycles)
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
#endif
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*************************** TERMINATION OF AM %3ld ***************************\n"
            "* WARNINGS: %ld\n"
            "* FAILURES: %ld\n"
            "* VERDICT : %s\n"
            , (long int)rttInternalAmNumber
            , (long int)rttWarnings[rttInternalAmNumber]
            , (long int)rttFailures[rttInternalAmNumber]
            , RTTverdict_t2string[rttctx_get_verdict_AM(rttInternalAmNumber)]
    );
 if(NULL != (AM_context[rttInternalAmNumber].verdict_comment)){
   char* tmp = strdup((AM_context[rttInternalAmNumber].verdict_comment)) ;
   char* tmp2 = tmp;
   while(NULL != (tmp = strtok(tmp, "\n"))){
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "* - %s\n"
            , tmp    );
     tmp = NULL;
   }
   free(tmp2);
 }
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "*****************************************************************************\n"
    );
    rttLogAM(rttInternalAmNumber,rttEventType_result); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;

    rttctx_finalize_AM_runtime(rttInternalAmNumber);

    /** Cleanup allocated memory for ports. */

    /** Cleanup allocated ports. */

#ifdef RTT_MEMORY_DEALLOCATION
    /** Cleanup allocated AM contexts. */
    if (AM_context[rttInternalAmNumber].input_ports) {
        free(AM_context[rttInternalAmNumber].input_ports);
        AM_context[rttInternalAmNumber].input_ports = NULL;
    }
    if (AM_context[rttInternalAmNumber].output_ports) {
        free(AM_context[rttInternalAmNumber].output_ports);
        AM_context[rttInternalAmNumber].output_ports = NULL;
    }
#endif

}

// ----------------------------------------------------------------------------
// -- END OF AM am_timetick
// ----------------------------------------------------------------------------

#line 88 



#line  91 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#undef AM_TIMETICK_FUN

#line  92 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
#undef _AM_TIMETICK_FUN

// Declare abstract machine stimulating the target

#line  94 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

/** Abstract Machine am_stimulator 
 *
 *  DECLARED VECTOR PORTS: --------------------------------------
 * --------------------------------------------------------------
 */

/** Abstract Machine am_stimulator 
 *
 *  DECLARED INPUT/OUTPUT PORTS: --------------------------------
 * --------------------------------------------------------------
 */

/** 
 * AM am_stimulator INIT routine
 * Executed exactly once on startup.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am_stimulator_INIT(void *rttInternalAmNumber_ptr ){


// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 

    rttctx_initialize_AM_runtime(rttInternalAmNumber);

    AM_context[rttInternalAmNumber].am_terminated = FALSE;

    /** Initialise all vector ports of this AM */
    {
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
        /** Determine number of input and output ports. */
        uint32_t numInPorts  
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t numOutPorts 
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t lwp_id      
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = AM_context[rttInternalAmNumber].lwp_id;
#ifdef _CADUL 
#pragma strict(UVAR)
#endif


        /** generate the input/output port list: one for each port plus
         * one NULL termination field
         */
        AM_context[rttInternalAmNumber].input_ports
            = (rttPort_t **)calloc(numInPorts+1,sizeof(rttPort_t*));
        AM_context[rttInternalAmNumber].output_ports
            = (rttPort_t **)calloc(numOutPorts+1,sizeof(rttPort_t*));

        /** Reset counter for initialisation */
        numInPorts = 0;
        numOutPorts = 0;

    }
    rttPruneReadIndex(rttInternalAmNumber);

  {
    time_t startup_time;
    char   date_string[256];
    char   scheduling_string[4096];

    time(&startup_time);
    strftime(date_string, 99, 
             "%Y:%m:%d:%H:%M:%S", 
            (RTT_USE_LOCAL_TIME 
             ? localtime((time_t *)&( rttStartOfTestEpoch ))
             :    gmtime((time_t *)&( rttStartOfTestEpoch ))));    if (LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id == 0xFFFFFFFF) {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
             );
    } else {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s, CNODE %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
              , (long int)LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id
              , (CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname != NULL) ? CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname : CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].ip
             );
    }

    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "%s***************************** STARTUP OF AM %3ld *****************************\n"
           "* PROJECT        : %s\n"
           "* COMPONENT      : %s\n"
           "* TEST PROCEDURE : %s\n"
           "* TOOL VERSION   : RT-Tester 6.0-6.1.12\n"
           "* AUTHOR         : %s\n"
           "* START OF TEST  : %s  (%s)\n"
           "* TIME SCALE     : %s\n"
           "* SCHEDULING     : %s\n"
           "*****************************************************************************\n"
           , (RTTgs.is_archive_version ? RTTCTX_ARCHIVE_VERSION_STRING :"" )
           , (long int)rttInternalAmNumber
           , RTT_PROJECT_NAME_STRING
           , RTT_CONST_TESTCASE_COMPONENT_STRING
           , RTT_CONST_TESTCASE_TESTCASE_STRING
           , RTT_CONST_TESTCASE_AUTHOR_STRING
           , date_string
           , (RTT_USE_LOCAL_TIME    ? "local time" : "gm")
           , RTT_TIME_SCALE_STRING
           , scheduling_string
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
  }
  /** setting variable counting the logical test steps */
  (AM_context[rttInternalAmNumber].test_step) = 0L;
          
{

#line  96 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
  }

}
}

/** 
 * AM am_stimulator PROCESS routine
 * @li in ordinary test run: scheduled repeatedly.
 * @li in unit test called once.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am_stimulator_PROCESS(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
{

#line  100 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    stimulator();
  }

}
    AM_context[rttInternalAmNumber].am_terminated = TRUE;
}

/** 
 * AM am_stimulator FINIT routine
 * Executed exactly once on shutdown.
 *
 * @param rttInternalAmNumber : internal id of this machine
 * @param aborted   : if 0, this indicates ordinary termination of the test.
 *                    != 0 means irregular termination (aborted test run)
 *                    the test verdict is assumed to be set explitly then.
 */
void test_am_stimulator_FINIT(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
#ifdef    RTT_FMI_OUTPUT_TAGS_AT_END 
 {
    rttstr_line_buffer_t* tags = rttctx_get_tag_tracing_of_AM(rttInternalAmNumber);
    char* line;
    while(NULL != (line = rttstr_line_buffer_get_line(tags))){
  #ifdef DEBUG_RTT_FMI_TAGS2STDERR
        fprintf(stderr, "%s\n", line);
  #elif (defined RTT_FMI_TAGS2RTTINTERFACE_LOG_TAGS)
        fmi2rttInterface_log_tags(line);
  #else
        fprintf(RTTgs.fmi2_tags_output_stream, "%s\n", line);
  #endif
    }
 }
#endif /* RTT_FMI_OUTPUT_TAGS_AT_END */
 rttctx_CheckForUnsubscribedSignals_AM(rttInternalAmNumber);
 rttAMContext_compute_verdict(rttInternalAmNumber,
                              rttWarnings[rttInternalAmNumber],
                              rttFailures[rttInternalAmNumber]);

{

#line  98 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
  }

}


 if (!(AM_context[rttInternalAmNumber].selected_outputs
       & RTT_CTXLIB_FILE_MASK)
     &&
     !AM_context[rttInternalAmNumber].delayed_file_logging) {
   AM_context[rttInternalAmNumber].max_file_size = RTT_MINIMAL_OUTPUT_FILESIZE;
   rttctx_open_new_logfile(rttInternalAmNumber, RTTgs.start_time_epoch);
   AM_context[rttInternalAmNumber].active_outputs |= RTT_CTXLIB_FILE_MASK;
   AM_context[rttInternalAmNumber].selected_outputs |= RTT_CTXLIB_FILE_MASK;
 }


 AM_context[rttInternalAmNumber].am_log_state = rttctxlib_am_log_state_NORMAL;
#ifdef RTT_SHOW_RUNTIME_STATS
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*********************** RUNTIME STATISTICS FOR AM %3ld ***********************\n"
            "* RUNTIME STATISTICS OF PROCESS SECTION:\n"
            "* \n"
            "* TOTAL RUNNING TIME     :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* TOTAL EXECUTION TIME   :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* AVERAGE EXECUTION TIME :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* PEAK EXECUTION TIME    :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* EXECUTION CYCLES       :   %8" PRId64 " cycles\n"
            "*****************************************************************************\n"
            , (long int)rttInternalAmNumber
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total % 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ? -1LL : (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ?  0 : (AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].num_cycles)
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
#endif
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*************************** TERMINATION OF AM %3ld ***************************\n"
            "* WARNINGS: %ld\n"
            "* FAILURES: %ld\n"
            "* VERDICT : %s\n"
            , (long int)rttInternalAmNumber
            , (long int)rttWarnings[rttInternalAmNumber]
            , (long int)rttFailures[rttInternalAmNumber]
            , RTTverdict_t2string[rttctx_get_verdict_AM(rttInternalAmNumber)]
    );
 if(NULL != (AM_context[rttInternalAmNumber].verdict_comment)){
   char* tmp = strdup((AM_context[rttInternalAmNumber].verdict_comment)) ;
   char* tmp2 = tmp;
   while(NULL != (tmp = strtok(tmp, "\n"))){
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "* - %s\n"
            , tmp    );
     tmp = NULL;
   }
   free(tmp2);
 }
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "*****************************************************************************\n"
    );
    rttLogAM(rttInternalAmNumber,rttEventType_result); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;

    rttctx_finalize_AM_runtime(rttInternalAmNumber);

    /** Cleanup allocated memory for ports. */

    /** Cleanup allocated ports. */

#ifdef RTT_MEMORY_DEALLOCATION
    /** Cleanup allocated AM contexts. */
    if (AM_context[rttInternalAmNumber].input_ports) {
        free(AM_context[rttInternalAmNumber].input_ports);
        AM_context[rttInternalAmNumber].input_ports = NULL;
    }
    if (AM_context[rttInternalAmNumber].output_ports) {
        free(AM_context[rttInternalAmNumber].output_ports);
        AM_context[rttInternalAmNumber].output_ports = NULL;
    }
#endif

}

// ----------------------------------------------------------------------------
// -- END OF AM am_stimulator
// ----------------------------------------------------------------------------

#line 103 



#line  105 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

/** Abstract Machine am__ora_End1I 
 *
 *  DECLARED VECTOR PORTS: --------------------------------------
 * --------------------------------------------------------------
 */

/** Abstract Machine am__ora_End1I 
 *
 *  DECLARED INPUT/OUTPUT PORTS: --------------------------------
 * --------------------------------------------------------------
 */

/** 
 * AM am__ora_End1I INIT routine
 * Executed exactly once on startup.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_End1I_INIT(void *rttInternalAmNumber_ptr ){


// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 

    rttctx_initialize_AM_runtime(rttInternalAmNumber);

    AM_context[rttInternalAmNumber].am_terminated = FALSE;

    /** Initialise all vector ports of this AM */
    {
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
        /** Determine number of input and output ports. */
        uint32_t numInPorts  
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t numOutPorts 
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t lwp_id      
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = AM_context[rttInternalAmNumber].lwp_id;
#ifdef _CADUL 
#pragma strict(UVAR)
#endif


        /** generate the input/output port list: one for each port plus
         * one NULL termination field
         */
        AM_context[rttInternalAmNumber].input_ports
            = (rttPort_t **)calloc(numInPorts+1,sizeof(rttPort_t*));
        AM_context[rttInternalAmNumber].output_ports
            = (rttPort_t **)calloc(numOutPorts+1,sizeof(rttPort_t*));

        /** Reset counter for initialisation */
        numInPorts = 0;
        numOutPorts = 0;

    }
    rttPruneReadIndex(rttInternalAmNumber);

  {
    time_t startup_time;
    char   date_string[256];
    char   scheduling_string[4096];

    time(&startup_time);
    strftime(date_string, 99, 
             "%Y:%m:%d:%H:%M:%S", 
            (RTT_USE_LOCAL_TIME 
             ? localtime((time_t *)&( rttStartOfTestEpoch ))
             :    gmtime((time_t *)&( rttStartOfTestEpoch ))));    if (LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id == 0xFFFFFFFF) {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
             );
    } else {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s, CNODE %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
              , (long int)LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id
              , (CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname != NULL) ? CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname : CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].ip
             );
    }

    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "%s***************************** STARTUP OF AM %3ld *****************************\n"
           "* PROJECT        : %s\n"
           "* COMPONENT      : %s\n"
           "* TEST PROCEDURE : %s\n"
           "* TOOL VERSION   : RT-Tester 6.0-6.1.12\n"
           "* AUTHOR         : %s\n"
           "* START OF TEST  : %s  (%s)\n"
           "* TIME SCALE     : %s\n"
           "* SCHEDULING     : %s\n"
           "*****************************************************************************\n"
           , (RTTgs.is_archive_version ? RTTCTX_ARCHIVE_VERSION_STRING :"" )
           , (long int)rttInternalAmNumber
           , RTT_PROJECT_NAME_STRING
           , RTT_CONST_TESTCASE_COMPONENT_STRING
           , RTT_CONST_TESTCASE_TESTCASE_STRING
           , RTT_CONST_TESTCASE_AUTHOR_STRING
           , date_string
           , (RTT_USE_LOCAL_TIME    ? "local time" : "gm")
           , RTT_TIME_SCALE_STRING
           , scheduling_string
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
  }
  /** setting variable counting the logical test steps */
  (AM_context[rttInternalAmNumber].test_step) = 0L;
          
{

#line  107 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
  }

}
}

/** 
 * AM am__ora_End1I PROCESS routine
 * @li in ordinary test run: scheduled repeatedly.
 * @li in unit test called once.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_End1I_PROCESS(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
{

#line  112 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_End1I();
  }

}
    AM_context[rttInternalAmNumber].am_terminated = TRUE;
}

/** 
 * AM am__ora_End1I FINIT routine
 * Executed exactly once on shutdown.
 *
 * @param rttInternalAmNumber : internal id of this machine
 * @param aborted   : if 0, this indicates ordinary termination of the test.
 *                    != 0 means irregular termination (aborted test run)
 *                    the test verdict is assumed to be set explitly then.
 */
void test_am__ora_End1I_FINIT(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
#ifdef    RTT_FMI_OUTPUT_TAGS_AT_END 
 {
    rttstr_line_buffer_t* tags = rttctx_get_tag_tracing_of_AM(rttInternalAmNumber);
    char* line;
    while(NULL != (line = rttstr_line_buffer_get_line(tags))){
  #ifdef DEBUG_RTT_FMI_TAGS2STDERR
        fprintf(stderr, "%s\n", line);
  #elif (defined RTT_FMI_TAGS2RTTINTERFACE_LOG_TAGS)
        fmi2rttInterface_log_tags(line);
  #else
        fprintf(RTTgs.fmi2_tags_output_stream, "%s\n", line);
  #endif
    }
 }
#endif /* RTT_FMI_OUTPUT_TAGS_AT_END */
 rttctx_CheckForUnsubscribedSignals_AM(rttInternalAmNumber);
 rttAMContext_compute_verdict(rttInternalAmNumber,
                              rttWarnings[rttInternalAmNumber],
                              rttFailures[rttInternalAmNumber]);

{

#line  109 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_End1I_finit();
  }

}


 if (!(AM_context[rttInternalAmNumber].selected_outputs
       & RTT_CTXLIB_FILE_MASK)
     &&
     !AM_context[rttInternalAmNumber].delayed_file_logging) {
   AM_context[rttInternalAmNumber].max_file_size = RTT_MINIMAL_OUTPUT_FILESIZE;
   rttctx_open_new_logfile(rttInternalAmNumber, RTTgs.start_time_epoch);
   AM_context[rttInternalAmNumber].active_outputs |= RTT_CTXLIB_FILE_MASK;
   AM_context[rttInternalAmNumber].selected_outputs |= RTT_CTXLIB_FILE_MASK;
 }


 AM_context[rttInternalAmNumber].am_log_state = rttctxlib_am_log_state_NORMAL;
#ifdef RTT_SHOW_RUNTIME_STATS
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*********************** RUNTIME STATISTICS FOR AM %3ld ***********************\n"
            "* RUNTIME STATISTICS OF PROCESS SECTION:\n"
            "* \n"
            "* TOTAL RUNNING TIME     :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* TOTAL EXECUTION TIME   :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* AVERAGE EXECUTION TIME :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* PEAK EXECUTION TIME    :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* EXECUTION CYCLES       :   %8" PRId64 " cycles\n"
            "*****************************************************************************\n"
            , (long int)rttInternalAmNumber
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total % 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ? -1LL : (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ?  0 : (AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].num_cycles)
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
#endif
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*************************** TERMINATION OF AM %3ld ***************************\n"
            "* WARNINGS: %ld\n"
            "* FAILURES: %ld\n"
            "* VERDICT : %s\n"
            , (long int)rttInternalAmNumber
            , (long int)rttWarnings[rttInternalAmNumber]
            , (long int)rttFailures[rttInternalAmNumber]
            , RTTverdict_t2string[rttctx_get_verdict_AM(rttInternalAmNumber)]
    );
 if(NULL != (AM_context[rttInternalAmNumber].verdict_comment)){
   char* tmp = strdup((AM_context[rttInternalAmNumber].verdict_comment)) ;
   char* tmp2 = tmp;
   while(NULL != (tmp = strtok(tmp, "\n"))){
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "* - %s\n"
            , tmp    );
     tmp = NULL;
   }
   free(tmp2);
 }
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "*****************************************************************************\n"
    );
    rttLogAM(rttInternalAmNumber,rttEventType_result); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;

    rttctx_finalize_AM_runtime(rttInternalAmNumber);

    /** Cleanup allocated memory for ports. */

    /** Cleanup allocated ports. */

#ifdef RTT_MEMORY_DEALLOCATION
    /** Cleanup allocated AM contexts. */
    if (AM_context[rttInternalAmNumber].input_ports) {
        free(AM_context[rttInternalAmNumber].input_ports);
        AM_context[rttInternalAmNumber].input_ports = NULL;
    }
    if (AM_context[rttInternalAmNumber].output_ports) {
        free(AM_context[rttInternalAmNumber].output_ports);
        AM_context[rttInternalAmNumber].output_ports = NULL;
    }
#endif

}

// ----------------------------------------------------------------------------
// -- END OF AM am__ora_End1I
// ----------------------------------------------------------------------------

#line 115 



#line  117 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

/** Abstract Machine am__ora_End2I 
 *
 *  DECLARED VECTOR PORTS: --------------------------------------
 * --------------------------------------------------------------
 */

/** Abstract Machine am__ora_End2I 
 *
 *  DECLARED INPUT/OUTPUT PORTS: --------------------------------
 * --------------------------------------------------------------
 */

/** 
 * AM am__ora_End2I INIT routine
 * Executed exactly once on startup.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_End2I_INIT(void *rttInternalAmNumber_ptr ){


// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 

    rttctx_initialize_AM_runtime(rttInternalAmNumber);

    AM_context[rttInternalAmNumber].am_terminated = FALSE;

    /** Initialise all vector ports of this AM */
    {
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
        /** Determine number of input and output ports. */
        uint32_t numInPorts  
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t numOutPorts 
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t lwp_id      
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = AM_context[rttInternalAmNumber].lwp_id;
#ifdef _CADUL 
#pragma strict(UVAR)
#endif


        /** generate the input/output port list: one for each port plus
         * one NULL termination field
         */
        AM_context[rttInternalAmNumber].input_ports
            = (rttPort_t **)calloc(numInPorts+1,sizeof(rttPort_t*));
        AM_context[rttInternalAmNumber].output_ports
            = (rttPort_t **)calloc(numOutPorts+1,sizeof(rttPort_t*));

        /** Reset counter for initialisation */
        numInPorts = 0;
        numOutPorts = 0;

    }
    rttPruneReadIndex(rttInternalAmNumber);

  {
    time_t startup_time;
    char   date_string[256];
    char   scheduling_string[4096];

    time(&startup_time);
    strftime(date_string, 99, 
             "%Y:%m:%d:%H:%M:%S", 
            (RTT_USE_LOCAL_TIME 
             ? localtime((time_t *)&( rttStartOfTestEpoch ))
             :    gmtime((time_t *)&( rttStartOfTestEpoch ))));    if (LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id == 0xFFFFFFFF) {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
             );
    } else {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s, CNODE %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
              , (long int)LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id
              , (CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname != NULL) ? CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname : CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].ip
             );
    }

    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "%s***************************** STARTUP OF AM %3ld *****************************\n"
           "* PROJECT        : %s\n"
           "* COMPONENT      : %s\n"
           "* TEST PROCEDURE : %s\n"
           "* TOOL VERSION   : RT-Tester 6.0-6.1.12\n"
           "* AUTHOR         : %s\n"
           "* START OF TEST  : %s  (%s)\n"
           "* TIME SCALE     : %s\n"
           "* SCHEDULING     : %s\n"
           "*****************************************************************************\n"
           , (RTTgs.is_archive_version ? RTTCTX_ARCHIVE_VERSION_STRING :"" )
           , (long int)rttInternalAmNumber
           , RTT_PROJECT_NAME_STRING
           , RTT_CONST_TESTCASE_COMPONENT_STRING
           , RTT_CONST_TESTCASE_TESTCASE_STRING
           , RTT_CONST_TESTCASE_AUTHOR_STRING
           , date_string
           , (RTT_USE_LOCAL_TIME    ? "local time" : "gm")
           , RTT_TIME_SCALE_STRING
           , scheduling_string
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
  }
  /** setting variable counting the logical test steps */
  (AM_context[rttInternalAmNumber].test_step) = 0L;
          
{

#line  119 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
  }

}
}

/** 
 * AM am__ora_End2I PROCESS routine
 * @li in ordinary test run: scheduled repeatedly.
 * @li in unit test called once.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_End2I_PROCESS(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
{

#line  124 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_End2I();
  }

}
    AM_context[rttInternalAmNumber].am_terminated = TRUE;
}

/** 
 * AM am__ora_End2I FINIT routine
 * Executed exactly once on shutdown.
 *
 * @param rttInternalAmNumber : internal id of this machine
 * @param aborted   : if 0, this indicates ordinary termination of the test.
 *                    != 0 means irregular termination (aborted test run)
 *                    the test verdict is assumed to be set explitly then.
 */
void test_am__ora_End2I_FINIT(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
#ifdef    RTT_FMI_OUTPUT_TAGS_AT_END 
 {
    rttstr_line_buffer_t* tags = rttctx_get_tag_tracing_of_AM(rttInternalAmNumber);
    char* line;
    while(NULL != (line = rttstr_line_buffer_get_line(tags))){
  #ifdef DEBUG_RTT_FMI_TAGS2STDERR
        fprintf(stderr, "%s\n", line);
  #elif (defined RTT_FMI_TAGS2RTTINTERFACE_LOG_TAGS)
        fmi2rttInterface_log_tags(line);
  #else
        fprintf(RTTgs.fmi2_tags_output_stream, "%s\n", line);
  #endif
    }
 }
#endif /* RTT_FMI_OUTPUT_TAGS_AT_END */
 rttctx_CheckForUnsubscribedSignals_AM(rttInternalAmNumber);
 rttAMContext_compute_verdict(rttInternalAmNumber,
                              rttWarnings[rttInternalAmNumber],
                              rttFailures[rttInternalAmNumber]);

{

#line  121 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_End2I_finit();
  }

}


 if (!(AM_context[rttInternalAmNumber].selected_outputs
       & RTT_CTXLIB_FILE_MASK)
     &&
     !AM_context[rttInternalAmNumber].delayed_file_logging) {
   AM_context[rttInternalAmNumber].max_file_size = RTT_MINIMAL_OUTPUT_FILESIZE;
   rttctx_open_new_logfile(rttInternalAmNumber, RTTgs.start_time_epoch);
   AM_context[rttInternalAmNumber].active_outputs |= RTT_CTXLIB_FILE_MASK;
   AM_context[rttInternalAmNumber].selected_outputs |= RTT_CTXLIB_FILE_MASK;
 }


 AM_context[rttInternalAmNumber].am_log_state = rttctxlib_am_log_state_NORMAL;
#ifdef RTT_SHOW_RUNTIME_STATS
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*********************** RUNTIME STATISTICS FOR AM %3ld ***********************\n"
            "* RUNTIME STATISTICS OF PROCESS SECTION:\n"
            "* \n"
            "* TOTAL RUNNING TIME     :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* TOTAL EXECUTION TIME   :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* AVERAGE EXECUTION TIME :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* PEAK EXECUTION TIME    :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* EXECUTION CYCLES       :   %8" PRId64 " cycles\n"
            "*****************************************************************************\n"
            , (long int)rttInternalAmNumber
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total % 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ? -1LL : (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ?  0 : (AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].num_cycles)
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
#endif
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*************************** TERMINATION OF AM %3ld ***************************\n"
            "* WARNINGS: %ld\n"
            "* FAILURES: %ld\n"
            "* VERDICT : %s\n"
            , (long int)rttInternalAmNumber
            , (long int)rttWarnings[rttInternalAmNumber]
            , (long int)rttFailures[rttInternalAmNumber]
            , RTTverdict_t2string[rttctx_get_verdict_AM(rttInternalAmNumber)]
    );
 if(NULL != (AM_context[rttInternalAmNumber].verdict_comment)){
   char* tmp = strdup((AM_context[rttInternalAmNumber].verdict_comment)) ;
   char* tmp2 = tmp;
   while(NULL != (tmp = strtok(tmp, "\n"))){
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "* - %s\n"
            , tmp    );
     tmp = NULL;
   }
   free(tmp2);
 }
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "*****************************************************************************\n"
    );
    rttLogAM(rttInternalAmNumber,rttEventType_result); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;

    rttctx_finalize_AM_runtime(rttInternalAmNumber);

    /** Cleanup allocated memory for ports. */

    /** Cleanup allocated ports. */

#ifdef RTT_MEMORY_DEALLOCATION
    /** Cleanup allocated AM contexts. */
    if (AM_context[rttInternalAmNumber].input_ports) {
        free(AM_context[rttInternalAmNumber].input_ports);
        AM_context[rttInternalAmNumber].input_ports = NULL;
    }
    if (AM_context[rttInternalAmNumber].output_ports) {
        free(AM_context[rttInternalAmNumber].output_ports);
        AM_context[rttInternalAmNumber].output_ports = NULL;
    }
#endif

}

// ----------------------------------------------------------------------------
// -- END OF AM am__ora_End2I
// ----------------------------------------------------------------------------

#line 127 



#line  129 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"

/** Abstract Machine am__ora_EtherI 
 *
 *  DECLARED VECTOR PORTS: --------------------------------------
 * --------------------------------------------------------------
 */

/** Abstract Machine am__ora_EtherI 
 *
 *  DECLARED INPUT/OUTPUT PORTS: --------------------------------
 * --------------------------------------------------------------
 */

/** 
 * AM am__ora_EtherI INIT routine
 * Executed exactly once on startup.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_EtherI_INIT(void *rttInternalAmNumber_ptr ){


// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 

    rttctx_initialize_AM_runtime(rttInternalAmNumber);

    AM_context[rttInternalAmNumber].am_terminated = FALSE;

    /** Initialise all vector ports of this AM */
    {
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
        /** Determine number of input and output ports. */
        uint32_t numInPorts  
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t numOutPorts 
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = 0;
        uint32_t lwp_id      
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = AM_context[rttInternalAmNumber].lwp_id;
#ifdef _CADUL 
#pragma strict(UVAR)
#endif


        /** generate the input/output port list: one for each port plus
         * one NULL termination field
         */
        AM_context[rttInternalAmNumber].input_ports
            = (rttPort_t **)calloc(numInPorts+1,sizeof(rttPort_t*));
        AM_context[rttInternalAmNumber].output_ports
            = (rttPort_t **)calloc(numOutPorts+1,sizeof(rttPort_t*));

        /** Reset counter for initialisation */
        numInPorts = 0;
        numOutPorts = 0;

    }
    rttPruneReadIndex(rttInternalAmNumber);

  {
    time_t startup_time;
    char   date_string[256];
    char   scheduling_string[4096];

    time(&startup_time);
    strftime(date_string, 99, 
             "%Y:%m:%d:%H:%M:%S", 
            (RTT_USE_LOCAL_TIME 
             ? localtime((time_t *)&( rttStartOfTestEpoch ))
             :    gmtime((time_t *)&( rttStartOfTestEpoch ))));    if (LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id == 0xFFFFFFFF) {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
             );
    } else {
      sprintf(scheduling_string, "AM %ld - %s, LWP %ld - %s, CNODE %ld - %s"
              , (long int)AM_context[rttInternalAmNumber].amId
              , AM_context[rttInternalAmNumber].name
              , (long int)AM_context[rttInternalAmNumber].lwp_id
              , LWP_context[AM_context[rttInternalAmNumber].lwp_id].name
              , (long int)LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id
              , (CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname != NULL) ? CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].hostname : CNODE_context[LWP_context[AM_context[rttInternalAmNumber].lwp_id].cnode_id].ip
             );
    }

    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "%s***************************** STARTUP OF AM %3ld *****************************\n"
           "* PROJECT        : %s\n"
           "* COMPONENT      : %s\n"
           "* TEST PROCEDURE : %s\n"
           "* TOOL VERSION   : RT-Tester 6.0-6.1.12\n"
           "* AUTHOR         : %s\n"
           "* START OF TEST  : %s  (%s)\n"
           "* TIME SCALE     : %s\n"
           "* SCHEDULING     : %s\n"
           "*****************************************************************************\n"
           , (RTTgs.is_archive_version ? RTTCTX_ARCHIVE_VERSION_STRING :"" )
           , (long int)rttInternalAmNumber
           , RTT_PROJECT_NAME_STRING
           , RTT_CONST_TESTCASE_COMPONENT_STRING
           , RTT_CONST_TESTCASE_TESTCASE_STRING
           , RTT_CONST_TESTCASE_AUTHOR_STRING
           , date_string
           , (RTT_USE_LOCAL_TIME    ? "local time" : "gm")
           , RTT_TIME_SCALE_STRING
           , scheduling_string
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
  }
  /** setting variable counting the logical test steps */
  (AM_context[rttInternalAmNumber].test_step) = 0L;
          
{

#line  131 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
  }

}
}

/** 
 * AM am__ora_EtherI PROCESS routine
 * @li in ordinary test run: scheduled repeatedly.
 * @li in unit test called once.
 *
 * @param rttInternalAmNumber : internal id of this machine
 */
void test_am__ora_EtherI_PROCESS(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
{

#line  136 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_EtherI();
  }

}
    AM_context[rttInternalAmNumber].am_terminated = TRUE;
}

/** 
 * AM am__ora_EtherI FINIT routine
 * Executed exactly once on shutdown.
 *
 * @param rttInternalAmNumber : internal id of this machine
 * @param aborted   : if 0, this indicates ordinary termination of the test.
 *                    != 0 means irregular termination (aborted test run)
 *                    the test verdict is assumed to be set explitly then.
 */
void test_am__ora_EtherI_FINIT(void *rttInternalAmNumber_ptr){

// -- RTT standard variables -----------------
#ifdef _CADUL 
#pragma nostrict(UVAR)
#endif
/** variable holding the AM number */
     uint32_t rttInternalAmNumber
#ifdef __GNUC__
 __attribute__((unused)) 
#endif
 = *((uint32_t *)rttInternalAmNumber_ptr);
// ------------- END OF RTT standard variables 
#ifdef _CADUL 
#pragma strict(UVAR)
#endif
// ------------- END OF RTT param variables 
#ifdef    RTT_FMI_OUTPUT_TAGS_AT_END 
 {
    rttstr_line_buffer_t* tags = rttctx_get_tag_tracing_of_AM(rttInternalAmNumber);
    char* line;
    while(NULL != (line = rttstr_line_buffer_get_line(tags))){
  #ifdef DEBUG_RTT_FMI_TAGS2STDERR
        fprintf(stderr, "%s\n", line);
  #elif (defined RTT_FMI_TAGS2RTTINTERFACE_LOG_TAGS)
        fmi2rttInterface_log_tags(line);
  #else
        fprintf(RTTgs.fmi2_tags_output_stream, "%s\n", line);
  #endif
    }
 }
#endif /* RTT_FMI_OUTPUT_TAGS_AT_END */
 rttctx_CheckForUnsubscribedSignals_AM(rttInternalAmNumber);
 rttAMContext_compute_verdict(rttInternalAmNumber,
                              rttWarnings[rttInternalAmNumber],
                              rttFailures[rttInternalAmNumber]);

{

#line  133 "C:/INTO-CPS/INTO_CPS_Pilot_Studies/case-study_ether/Test-Data-Generation/Ether_Indirect_Test_Model_v0.41/RTT_TestProcedures/TP-00/specs/test.rts"
{
    _ora_EtherI_finit();
  }

}


 if (!(AM_context[rttInternalAmNumber].selected_outputs
       & RTT_CTXLIB_FILE_MASK)
     &&
     !AM_context[rttInternalAmNumber].delayed_file_logging) {
   AM_context[rttInternalAmNumber].max_file_size = RTT_MINIMAL_OUTPUT_FILESIZE;
   rttctx_open_new_logfile(rttInternalAmNumber, RTTgs.start_time_epoch);
   AM_context[rttInternalAmNumber].active_outputs |= RTT_CTXLIB_FILE_MASK;
   AM_context[rttInternalAmNumber].selected_outputs |= RTT_CTXLIB_FILE_MASK;
 }


 AM_context[rttInternalAmNumber].am_log_state = rttctxlib_am_log_state_NORMAL;
#ifdef RTT_SHOW_RUNTIME_STATS
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*********************** RUNTIME STATISTICS FOR AM %3ld ***********************\n"
            "* RUNTIME STATISTICS OF PROCESS SECTION:\n"
            "* \n"
            "* TOTAL RUNNING TIME     :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* TOTAL EXECUTION TIME   :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* AVERAGE EXECUTION TIME :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* PEAK EXECUTION TIME    :   %8" PRId64 ".%03" PRId64 " ms\n"
            "* EXECUTION CYCLES       :   %8" PRId64 " cycles\n"
            "*****************************************************************************\n"
            , (long int)rttInternalAmNumber
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].tm_exec_end - AM_context[rttInternalAmNumber].tm_exec_start) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_total % 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ? -1LL : (int64_t)(AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) / 1000LL)
            , (int64_t)((AM_context[rttInternalAmNumber].num_cycles == 0 ) ?  0 : (AM_context[rttInternalAmNumber].exec_time_total / AM_context[rttInternalAmNumber].num_cycles) % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max / 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].exec_time_max % 1000LL)
            , (int64_t)(AM_context[rttInternalAmNumber].num_cycles)
    );
    rttStandardLogAM(rttInternalAmNumber); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
#endif
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
            "*************************** TERMINATION OF AM %3ld ***************************\n"
            "* WARNINGS: %ld\n"
            "* FAILURES: %ld\n"
            "* VERDICT : %s\n"
            , (long int)rttInternalAmNumber
            , (long int)rttWarnings[rttInternalAmNumber]
            , (long int)rttFailures[rttInternalAmNumber]
            , RTTverdict_t2string[rttctx_get_verdict_AM(rttInternalAmNumber)]
    );
 if(NULL != (AM_context[rttInternalAmNumber].verdict_comment)){
   char* tmp = strdup((AM_context[rttInternalAmNumber].verdict_comment)) ;
   char* tmp2 = tmp;
   while(NULL != (tmp = strtok(tmp, "\n"))){
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "* - %s\n"
            , tmp    );
     tmp = NULL;
   }
   free(tmp2);
 }
    AM_context[rttInternalAmNumber].scratchpad_written += RTT_SPRINTF(&((AM_context[rttInternalAmNumber].scratchpad)[AM_context[rttInternalAmNumber].scratchpad_written]), "" 
                        "*****************************************************************************\n"
    );
    rttLogAM(rttInternalAmNumber,rttEventType_result); 
    AM_context[rttInternalAmNumber].scratchpad[0] = 0;
    AM_context[rttInternalAmNumber].scratchpad_written = 0LL;

    rttctx_finalize_AM_runtime(rttInternalAmNumber);

    /** Cleanup allocated memory for ports. */

    /** Cleanup allocated ports. */

#ifdef RTT_MEMORY_DEALLOCATION
    /** Cleanup allocated AM contexts. */
    if (AM_context[rttInternalAmNumber].input_ports) {
        free(AM_context[rttInternalAmNumber].input_ports);
        AM_context[rttInternalAmNumber].input_ports = NULL;
    }
    if (AM_context[rttInternalAmNumber].output_ports) {
        free(AM_context[rttInternalAmNumber].output_ports);
        AM_context[rttInternalAmNumber].output_ports = NULL;
    }
#endif

}

// ----------------------------------------------------------------------------
// -- END OF AM am__ora_EtherI
// ----------------------------------------------------------------------------

#line 139 


